(this.webpackJsonpinterface=this.webpackJsonpinterface||[]).push([[0],{124:function(e,t){},177:function(e,t,n){},178:function(e,t,n){},187:function(e,t,n){},188:function(e,t,n){},189:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(25),o=n.n(r),i=n(51),l=n.n(i),s=n(82),u=n(17),m=n(36),f=n(8),d=n(83),E=n.n(d),h=n(84),p=n.n(h),v=(n(128),n(129),n(69),function(e){e.socket;return c.a.createElement("div",{className:"login-screen"})}),b=n(205),g=n(37);var O=function(){var e="object"===typeof window;function t(){return{width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0}}var n=Object(a.useState)(t),c=Object(u.a)(n,2),r=c[0],o=c[1];return Object(a.useEffect)((function(){if(!e)return!1;function n(){o(t())}return window.addEventListener("resize",n),function(){return window.removeEventListener("resize",n)}}),[]),r},k=(n(177),{x:0,y:0,angle:0}),w=function(e){var t=e.socket,n=Object(a.useState)(k),r=Object(u.a)(n,2),o=r[0],i=r[1],l=Object(a.useState)(0),s=Object(u.a)(l,2),m=s[0],f=s[1],d=Object(a.useState)(0),E=Object(u.a)(d,2),h=E[0],p=E[1],v=Object(a.useRef)(null),b=O();Object(a.useEffect)((function(){w()}),[]),Object(a.useEffect)((function(){console.log(b),f(v.current.offsetWidth),p(v.current.offsetHeight)}),[b]);var w=function(){t.on("POSITIONS:INFOS",(function(e){i(e)}))};return c.a.createElement("div",{ref:v,className:"map-ctner"},c.a.createElement(g.Stage,{width:m,height:h,draggable:!0,className:"map"},c.a.createElement(g.Layer,null,c.a.createElement(g.Line,{x:o.y,y:o.y,points:[-20,0,20,-10,20,10],closed:!0,rotation:o.angle,stroke:"black"}))))},j=n(21),N=n(206),S=n(204),x=(n(178),[{link:"/",icon:"home"},{link:"/direction",icon:"gamepad"}]),y=Object(j.a)((function(e){return{root:{backgroundColor:"transparent","&:hover":{backgroundColor:S.a[800]},"&:active":{backgroundColor:S.a[600]},height:"50px",minWidth:"50px",margin:"0 5px",padding:"5px",fontSize:"1.3rem",lineHeight:"1.5",borderRadius:"50%"}}}))(N.a),I=function(){return c.a.createElement("header",null,x.map((function(e,t){return c.a.createElement(y,null,c.a.createElement(m.b,{key:t,to:e.link||"#"},c.a.createElement("i",{className:"fas fa-".concat(e.icon)})))})))},C={left:0,middle:0,right:0},T=function(e){var t=e.socket,n=Object(a.useState)(C),r=Object(u.a)(n,2),o=r[0],i=r[1];Object(a.useEffect)((function(){l()}),[]);var l=function(){t.on("DISTANCE_SENSOR:INFOS",(function(e){i(e),console.log(e)}))},s=function(e){return e<100?"".concat(parseFloat(e).toFixed(1)," cm"):"".concat(parseFloat(e/100).toFixed(1)," m")};return c.a.createElement("div",{className:"distance-sensor-block"},c.a.createElement("div",{className:"left"},c.a.createElement("label",null,s(o.left))),c.a.createElement("div",{className:"middle"},c.a.createElement("label",null,s(o.middle))),c.a.createElement("div",{className:"right"},c.a.createElement("label",null,s(o.right))))},F=n(88),R=n.n(F),W=function(e){var t=e.socket,n=!1;return c.a.createElement(R.a,{options:{mode:"static",position:{top:"50%",left:"50%"}},style:{outline:"1px dashed red",backgroundColor:"blue",position:"relative",width:150,height:150},onMove:function(e,a){if(!n){n=!0;var c={angle:a.angle.degree,force:2*a.distance};console.log(c,a.distance),t.emit("DIRECTION:SET",c),setTimeout((function(){n=!1}),100)}},onEnd:function(){t.emit("DIRECTION:SET",{angle:0,force:0})}})},L=n(50),z=n.n(L),D=(n(187),function(e){var t=e.children,n=e.className;return c.a.createElement(b.a,{container:!0,className:z()("page",n)},t)}),H=function(e){var t=e.socket;return c.a.createElement(D,{className:"page"},c.a.createElement(w,{socket:t}),c.a.createElement(b.a,{item:!0,sm:12},c.a.createElement(T,{socket:t}),c.a.createElement(W,{socket:t})))},B=(n(188),function(){var e=Object(a.useState)(null),t=Object(u.a)(e,2),n=t[0],r=t[1];Object(a.useEffect)((function(){o()}),[]);var o=function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=p()("public","ipv4"),r(E()("http://".concat(t,":8080")));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:"app"},c.a.createElement(m.a,null,c.a.createElement(I,null),c.a.createElement(f.c,null,c.a.createElement(f.a,{exact:!0,path:"/"},c.a.createElement(v,{socket:n})),c.a.createElement(f.a,{exact:!0,path:"/direction"},c.a.createElement(H,{socket:n})))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},90:function(e,t,n){e.exports=n(189)}},[[90,1,2]]]);
//# sourceMappingURL=main.8647a8a1.chunk.js.map